{% extends "base.html" %}
{% load static %}

{% block content %}
  {% if searched  %}
    <h1 class="text-3xl text-white text-center mb-5">Searched Products</h1>
  {% else %}
    <h1 class="text-3xl text-white text-center mb-5">{{department}}</h1>
  {% endif %}
  <div class="grid grid-cols-3 gap-y-5 justify-items-center text-white">
    {% if searched %}
        {% for product in searched %}
          <div class="flex flex-col rounded-md bg-blue-800 w-80 pb-2">
            <a class="h-72 rounded" href="{% url 'product_details' slug=product.slug %}">
              <img class="h-full w-full rounded-t-md" src="{{ product.image.url }}" alt="Sunset in the mountains">
            </a>
            <div class="px-6 py-2">
              <div class="font-bold text-xl mb-2">{{ product.title }}</div>
              <div class="font-bold text-xl mb-2">${{ product.price }}</div>
              <div class="text-center">
                <a class="rounded h-full bg-yellow-500 p-1 hover:opacity-85 shadow-md" href="{% url 'product_details' slug=product.slug %}">View Product</a>
              </div>
            </div>
          </div>
        {% endfor %}
    {% endif %}

    {% if filtered %}
      {% for product in filtered %}
        <div class="flex flex-col rounded-md bg-blue-800 w-80 pb-2">
          <a class="h-72 rounded" href="{% url 'product_details' slug=product.slug %}">
            <img class="h-full w-full rounded-t-md" src="{{ product.image.url }}" alt="Sunset in the mountains">
          </a>
          <div class="px-6 py-2">
            <div class="font-bold text-xl mb-2">{{ product.title }}</div>
            <div class="font-bold text-xl mb-2">${{ product.price }}</div>
            <div class="text-center">
              <a class="rounded h-full bg-yellow-500 p-1 shadow-md" href="{% url 'product_details' slug=product.slug %}">View Product</a>
            </div>
          </div>
        </div>
      {% endfor %}
    {% endif %}
  </div>
{% endblock content %}